# CS-683
## Task-1
### Task-1a

Unrolling 
| Unroll Factor | Matrix Size | Average Speedup | Average L1 MPKI | Average MPKI (LLC) |
| :------------ | :---------- | :-------------- | :-------------- | :----------------- |
| 0             | 256         | 1.6354          | 29.1108         | 0.0038             |
| 0             | 512         | 1.5534          | 27.0572         | 0.0131             |
| 0             | 1024        | 1.4839          | 27.1493         | 3.4996             |
| 4             | 256         | 2.3250          | 24.9372         | 0.0041             |
| 4             | 512         | 2.3570          | 24.7837         | 0.0046             |
| 4             | 1024        | 3.6662          | 24.5371         | 6.2023             |
| 8             | 256         | 2.8042          | 22.6501         | 0.0023             |
| 8             | 512         | 2.9473          | 21.6920         | 0.0105             |
| 8             | 1024        | 4.1789          | 21.7260         | 8.5079             |
| 16            | 256         | 1.8196          | 20.5950         | 0.0025             |
| 16            | 512         | 2.0469          | 18.6755         | 0.0040             |
| 16            | 1024        | 3.0717          | 18.7340         | 2.3526             |
| 32            | 256         | 1.6350          | 19.4968         | 0.0023             |
| 32            | 512         | 1.9201          | 17.4784         | 0.0095             |
| 32            | 1024        | 2.4291          | 17.5812         | 2.1683             |
| 64            | 256         | 1.6543          | 18.9088         | 0.0034             |
| 64            | 512         | 2.0164          | 16.9148         | 0.0062             |
| 64            | 1024        | 2.8603          | 16.9976         | 1.7475             |

Unrolling+reordering

| Unroll Factor | Matrix Size | Average Speedup | Average L1 MPKI | Average MPKI (LLC) |
| :------------ | :---------- | :-------------- | :-------------- | :----------------- |
| 4             | 256         | 2.632           | 18.2323         | 0.0028             |
| 4             | 512         | 3.1372          | 16.1557         | 0.0037             |
| 4             | 1024        | 6.2114          | 16.3275         | 0.0152             |
| 8             | 256         | 2.7595          | 18.2166         | 0.0032             |
| 8             | 512         | 3.282           | 16.1834         | 0.0059             |
| 8             | 1024        | 5.6644          | 16.3236         | 0.0122             |
| 16            | 256         | 2.8             | 18.3184         | 0.0025             |
| 16            | 512         | 3.4148          | 16.2731         | 0.0051             |
| 16            | 1024        | 6.5594          | 16.3312         | 0.0156             |
| 32            | 256         | 2.85            | 18.2238         | 0.0036             |
| 32            | 512         | 3.3938          | 16.2625         | 0.0031             |
| 32            | 1024        | 5.9094          | 16.3283         | 0.0118             |
| 64            | 256         | 2.8667          | 18.257          | 0.0041             |
| 64            | 512         | 3.4187          | 16.2571         | 0.0032             |
| 64            | 1024        | 6.1624          | 16.3364         | 0.0132             |

Reordering

| Unroll Factor | Matrix Size | Average Speedup | Average L1 MPKI | Average MPKI (LLC) |
| :------------ | :---------- | :-------------- | :-------------- | :----------------- |
| 0             | 256         | 1.7273          | 17.8018         | 0.0033             |
| 0             | 512         | 2.0513          | 15.8239         | 0.0047             |
| 0             | 1024        | 4.6275          | 15.8947         | 0.0242             |
## Task-2A
Software-prefetch
| Emb_size | Input_size | L1D Misses  | LLC Misses | SW Prefetch Requests | Execution Time (µs) | SpeedUp |
| :------- | :--------- | :---------- | :--------- | :------------------- | :------------------ | :------ |
| 200k     | 1080       | 4,038,506   | 69,590     | 50,998               | 879                 | 1.168   |
| 200k     | 720        | 3,989,392   | 44,944     | 49,739               | 613                 | 1.171   |
| 200k     | 360        | 4,509,788   | 43,335     | 49,827               | 444                 | 2.153   |
| 1M       | 1080       | 20,411,624  | 164,308    | 250,911              | 1011                | 1.022   |
| 1M       | 720        | 22,173,387  | 185,318    | 250,811              | 595                 | 1.173   |
| 1M       | 360        | 22,040,244  | 140,979    | 250,457              | 319                 | 1.270   |
| 5M       | 1080       | 104,494,263 | 313,543    | 1,250,974            | 877                 | 1.379   |
| 5M       | 720        | 102,327,236 | 384,392    | 1,251,730            | 714                 | 1.553   |
| 5M       | 360        | 104,666,827 | 343,095    | 1,252,722            | 336                 | 1.304   |
Naive
| Emb_size | Input_size | L1D Misses  | LLC Misses | SW Prefetch Requests | Execution Time (µs) |
| :------- | :--------- | :---------- | :--------- | :------------------- | :------------------ |
| 200k     | 1080       | 4,009,281   | 41,007     | 50,350               | 1089                |
| 200k     | 720        | 4,768,898   | 50,076     | 49,351               | 711                 |
| 200k     | 360        | 5,087,853   | 60,668     | 49,685               | 663                 |
| 1M       | 1080       | 22,992,642  | 201,022    | 249,825              | 1197                |
| 1M       | 720        | 20,749,694  | 141,507    | 249,145              | 726                 |
| 1M       | 360        | 20,934,897  | 153,803    | 250,492              | 358                 |
| 5M       | 1080       | 109,871,080 | 452,777    | 1,250,059            | 1160                |
| 5M       | 720        | 101,297,320 | 351,364    | 1,252,989            | 808                 |
| 5M       | 360        | 98,459,946  | 258,587    | 1,250,223            | 406                 |
